\documentclass{article}
\usepackage{amsmath}
\usepackage{amssymb} % For \dots which can be replaced by \vdots for vertical context
\usepackage{geometry}
\usepackage{graphicx}
\geometry{a4paper, margin=1in}

\title{Theory Excercise 1}
\author{}
\date{}

\begin{document}

\maketitle

% Disable section numbering for manual control
\setcounter{secnumdepth}{0}

\section*{1.1.1}

\subsection*{a)}
Multiplications with these matrices, the vectors are adapted to a new position while maintaining the the geometrical shape of the form
\medskip

\textbf{Rotation Matrix}: Rotates every vector by a specified angle $\theta$ (Angles between vectors are preserved and thus shape is maintained)
For a 3D rotation on the z Axis (last row and column = 0 except for the last entry):
\[
\begin{bmatrix}
\cos \theta & -\sin \theta & 0\\
\sin \theta & \cos \theta & 0 \\ 
0 & 0 & 1
\end{bmatrix}
\]

\medskip
\textbf{Translation Matrix}: Moves every vector to a new $(x,y,z)$ position.
\begin{itemize}
    \item $TA = B$
\end{itemize}
For a 2D translation with a Matrix $T=$ 3x3 and $A=$ 1x3 (using homogeneous coordinates):
\[
\begin{bmatrix}
1 & 0 & t_{x} \\
0 & 1 & t_{y} \\
0 & 0 & 1
\end{bmatrix}
\begin{bmatrix}
a_{x} \\
a_{y} \\
1
\end{bmatrix}
=
\begin{bmatrix}
a_{x} + t_{x} \\
a_{y} + t_{y} \\
1
\end{bmatrix}
\]
The diagonal on the Translation Matrix is equal to 1. Otherwise it would also scale the Matrix A. This Matrix adds an extra row and column (so for a 3D translation, then a 4x4 Matrix)

\bigskip
\textbf{Scaling Matrix}: This Matrix "stretches" or "compresses" points on a matrix
\begin{itemize}
    \item $SA=B$
\end{itemize}
For a 3D Scaling: The Matrix $S$ has on its diagonal the the scaling values per axis, which will be multiplied individually with each point's value
\[
\begin{bmatrix}
s_{x} & 0 & 0 \\
0 & s_{y} & 0 \\
0 & 0 & s_{z}
\end{bmatrix}
\begin{bmatrix}
    a_{x}\\
    a_{y}\\
    a_{z}\\
\end{bmatrix}
= 
\begin{bmatrix}
    
    s_{x}a_{x}\\
    s_{y}a_{y}\\
    s_{z}a_{z}\\
\end{bmatrix}
\]

\medskip

\textbf{Reflection Matrix} This Matrix will reflect a point having a Axis as pivot
\begin{itemize}
    \item Elements on the diagonal have to be -1 (for a reflection without scaling), which inverses orientation (except for the element on the desired Axis and the last one)
    \item For a 2D reflection on the x Axis with a Matrix $R$ (an extra last element is added $1_{33}$ in homogeneous coordinates)
\end{itemize}
\[
\begin{bmatrix}
1 & 0 & 0 \\
0 & -1 & 0 \\
0 & 0 & 1
\end{bmatrix}
\]

If a transform Matrix applies an operation on a Matrix, like translation. Then the inverse of a transform Matrix will undo this operation. Using the same example of a translation, then the Inverse of the translation Matrix will return the Matrix to its original position

\subsection*{b)}
\textbf{Commuting}
\begin{itemize}
    \item $T_{1} \cdot T_{2}$ : A sequence of translations can be represented as the addition of translation vectors and addition is commutative
    \item $S_{1}\cdot S_{2}$ : The scaling Matrices can be summarized into one (multiplied) Matrix and multiplication is commutative
\end{itemize}

\textbf{Non-Commuting}
\begin{itemize}
    \item $R\cdot T$ : This operation is not commutative. The final position depends on the order of the operations, e.g.: given a point (1,0), rotate it 90 degrees counter-clockwise around the origin, to get (0,1). Then translate it with (0,5) and get (0,6). Otherwise, translate it first with (0,5), and get (1,5). Then rotate it 90 degrees and get (-5,1).
    \item $S\cdot T$ : Not commutative, because translating a point (adding a vector) and then scaling it (multiplying) causes a different result than first multiplying and then adding. On the first example, one would scale both vectors and on the second example, just the point would be multiplied. Example: $(a + t) * s \neq (a * s) + t$
\end{itemize}

\textbf{Special}
\begin{itemize}
    \item $R_{1}\cdot R_{2}$ : Can be commutative if the rotation is on the same axis (then the rotated degrees add together). Otherwise, if the rotation occurs on different axis, this operation is not commutative. The result changes, because a rotation affects the axis of the geometrical object, which will be the main cause for different results, if the order change  
    \item $R\cdot S$ : Can be commutative if the scaling is uniform on all axis. Otherwise not. Rotating a non-uniformly scaled object is different from non-uniformly scaling a rotated object.
\end{itemize}

\section*{1.1.2}

\subsection*{a)}
We can use the following Matrix to swap the $y$ and $z$ values of Matrix $P$:
\[
\begin{bmatrix}
1 & 0 & 0 \\
0 & 0 & 1 \\
0 & 1 & 0
\end{bmatrix}
\cdot P=P'
\]

\subsection*{b)}
For a Matrix $P =3\times n$, then it has to be multiplied with a vector with $n$ rows
\[
P_{3\times n} \cdot v_{n\times 1} =
P \cdot
\begin{bmatrix}
1 \\
1 \\
\vdots \\
1
\end{bmatrix}
= P'_{3\times 1}
\]
and $P'$ having the sum of all x,y,z components in their respective row

\subsection*{c)}
This can be done using the scalar projection formula, as follows:
\[
    \frac{(a \cdot b)}{||b||} = projection
\]
\begin{itemize}
    \item a being each point on the matrix P subtracted the vector for the eye 
    \item b being the view direction $\hat{d}$
    \item because $\hat{d}$ is a normal vector, then $||b|| = 1$
    \item then follows:
\end{itemize}
\[
    P_{out}=\hat{d}^{T}_{1x3} \cdot (P_{3 \times n} - e_{3 \times 1} \cdot 1_{1 \times n}) 
\]
This expression will output a $1 \times n$ matrix $P_{out}$, which will have the scalar projection of every point onto the viewdirection.
Then we can iterate through $P_{out}$ to find the min and max values. 
\begin{itemize}
    \item $v_{near} = min(P_{out})$
    \item $v_{far} = max(P_{out})$

\end{itemize}

\subsection*{Calculation with values}
because $\vec{d}$ is not normalized, normalize it:
\[
\hat{d} = \frac{\vec{d}}{\|\vec{d}\|}
\]
and
\[
\|\vec{d}\| = \sqrt{(-2)^2 + (-1)^2 + (-1)^2} = \sqrt{6}
\]

\begin{align*}
& \Rightarrow \frac{\vec{d}^T}{\|\vec{d}\|} \cdot (P_{3x5} - e_{3x1} \cdot 1_{1 \times 5}) \\
\\
& \Leftrightarrow \frac{(-2, -1, -1)}{\|\vec{d}\|} \cdot \left( \begin{pmatrix} -1 & 2 & 2 & -1 & 3 \\ -1 & 1 & 1 & -2 & -1 \\ 1 & -2 & -3 & 1 & 0 \end{pmatrix} - \begin{pmatrix} 5 \\ 10 \\ 5 \end{pmatrix} \cdot 1_{1x5} \right) \\
\\
& \Leftrightarrow \frac{1}{\sqrt{6}}(-2, -1, -1) \cdot \begin{pmatrix} -6 & -3 & -3 & -6 & -2 \\ -11 & -9 & -9 & -12 & -11 \\ -4 & -7 & -8 & -4 & -5 \end{pmatrix} \\
\\
& \Leftrightarrow \left( \frac{9\sqrt{6}}{2}, \: \frac{11\sqrt{6}}{3}, \: \frac{23\sqrt{6}}{6}, \: \frac{14\sqrt{6}}{3}, \: \frac{10\sqrt{6}}{3} \right) \\
\\
& \Leftrightarrow (11.02, \: 8.98, \: 9.39, \: 11.43, \: 8.16) = P_{\text{out}} \\
\\
& \Rightarrow z_{\text{near}} = \min(P_{\text{out}}) = \frac{10\sqrt{6}}{3} = 8.16 \\
\\
& \Rightarrow z_{\text{far}} = \max(P_{\text{out}}) = \frac{14\sqrt{6}}{3} = 11.43
\end{align*}


\subsection*{Bonus}
\begin{center}
    \includegraphics[width=1.0\textwidth]{Bonus.jpg}
\end{center}
\end{document}
